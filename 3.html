<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script src="js/jquery-1.11.1.js" type="text/javascript"></script>
		<style type="text/css">
			*{margin:0;padding:0;list-style: none;font-style: normal;}
			#oBtn{margin:10px;}
			.ulbox{width:153px;}
			.ulbox li{float:left;width:50px;height:50px;border:1px solid #333;margin-right:-1px; text-align: center;font-size:12px;line-height:50px;}
			.ulbox li.on{ background:red;color:#fff;}
			.position{position:relative; z-index:1;margin:10px;}
		</style>
	</head>
	<body>
		<input type="button" name="oBtn" id="oBtn" value="抽奖" />
		<div class="position">
			<ul class="ulbox">
				<li>1等奖</li>
				<li>2等奖</li>
				<li>3等奖</li>
				<li>4等奖</li>
				<li>5等奖</li>
				<li>6等奖</li>
				<li>7等奖</li>
				<li>8等奖</li>
				<li>9等奖</li>
			</ul>
			<div class="zhezhao"></div>
		</div>
		<script type="text/javascript">
			var num=0;//定义一个按顺序走的数字
			var Timer=null;//创建定时器
			var oo=3;//定义次数
			var speed=100;//定义定时器速度
			var $li=$(".ulbox li");
			clearInterval(Timer);
			$("#oBtn").click(function(){
				oo--;
				if(oo<0){
					alert("不好意思您今天的运气已经用完,明天再来吧！");
					$li.removeClass("on");
				}else{
					var temp=Math.round(Math.random()*$li.length);
					Timer=setInterval(function(){
						$li.removeClass("on");
						$li.eq(num).addClass("on");
						num++;
						if(num>$li.length){
							num=temp;
							clearInterval(Timer);
							$li.removeClass("on");
							$li.eq(temp).toggleClass("on");
							alert("您抽到了"+$li.eq(temp).html());
							num=0;
						}
					},speed);
				}
			});
			
			
			//数组去重
			function getArray(a) {
			 var hash = {},
			     len = a.length,
			     result = [];
			 for (var i = 0; i < len; i++){
			     if (!hash[a[i]]){
			         hash[a[i]] = true;
			         result.push(a[i]);
			     } 
			 }
			 return result;
			}
		</script>
	</body>
</html>
