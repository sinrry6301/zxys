<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>拖拽</title>
<style>
#div1{ width:100px; height:100px; background:red; position:absolute;left:0;top:0;}
</style>
<script src="js/jquery-1.11.1.js"></script>
<script>

$(function(){
var disX=0;
var disY=0;
$("#div1").mousedown(function(ev){
	disX=ev.pageX-$(this).offset().left;  
	disY=ev.pageY-$(this).offset().top;
//	if( $('#div1')[0].setCapture ){
//			$('#div1')[0].setCapture();
//		}
	$(document).mousemove(function(ev){
		$("#div1").css("left",ev.pageX - disX);
		$("#div1").css("top",ev.pageY-disY);
		return false;
	});
	$(document).mouseup(function(){
		$(this).off();
		return false;
	});
});
});


</script>
</head>

<body style="height:2000px">
<div id="div1"></div>
</body>
</html>
